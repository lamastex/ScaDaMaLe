<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>01_privacyPreservingDataScience - sds-3.x/ScaDaMaLe</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../../favicon.svg">
        
        
        <link rel="shortcut icon" href="../../favicon.png">
        
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        
        <link rel="stylesheet" href="../../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="../../scroll-mdbook-outputs.css">
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../contents/000_8-sds-3-x-pri/01_privacyPreservingDataScience.html" class="active">01_privacyPreservingDataScience</a></li><li class="chapter-item expanded affix "><a href="../../contents/000_8-sds-3-x-pri/02_privacyPreservingDataScience_pseudonomyzation.html">02_privacyPreservingDataScience_pseudonomyzation</a></li><li class="chapter-item expanded affix "><a href="../../contents/000_8-sds-3-x-pri/03_privacyPreservingDataScience_Differential_Privacy.html">03_privacyPreservingDataScience_Differential_Privacy</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">sds-3.x/ScaDaMaLe</h1>

                    <div class="right-buttons">
                        
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div class="cell markdown">
<h1 id="a-hrefhttpslamastexgithubioscalable-data-sciencesds2xsds-2x-scalable-data-engineering-sciencea"><a class="header" href="#a-hrefhttpslamastexgithubioscalable-data-sciencesds2xsds-2x-scalable-data-engineering-sciencea"><a href="https://lamastex.github.io/scalable-data-science/sds/2/x/">SDS-2.x, Scalable Data Engineering Science</a></a></h1>
</div>
<div class="cell markdown">
<h3 id="a-hrefhttpswwwlinkedincominchristoffer-lc3a5ngstrc3b6m-7a460514bby-christoffer-långströma"><a class="header" href="#a-hrefhttpswwwlinkedincominchristoffer-lc3a5ngstrc3b6m-7a460514bby-christoffer-långströma"><a href="https://www.linkedin.com/in/christoffer-l%C3%A5ngstr%C3%B6m-7a460514b/">by Christoffer Långström</a></a></h3>
<p>This notebook series will give an overview on the current state of privacy protection mechanisms, both in terms of data sanitation (which involves enforces privacy guarantees on the data itself) as well as algorithmic sanitation, which involves privacy inducing mechanism in statistical learning algorithms. This is part of a masters project in applied mathematics by Christoffer Långström under the supervision of Raazeesh Sainudiin and is partly inspired by the great work presented in the following talk at the 2018 Spark AI summit by Sim Semeonov &amp; Slater Victoroff.</p>
<p>This work aims to recreate, elaborate &amp; extend the material presented above, going through the current state of privacy in statistical learning, with both technical &amp; mathematical perspectives. Later, a full reconstruction of the Databricks notebooks presented above will be given with comments and explanations in order to facilitate use.</p>
</div>
<div class="cell markdown">
<p>Protecting the privacy of individuals included in a data set is both highly important &amp; suprisingly difficult. The importance is clear; sensitive information being leaked to adversarial parties can be harmful to anyone with personal information contained in a data set (which in this age is almost everyone), yet institutions such as medical researchers &amp; academics are in great need of such data. Thankfully, personally identifiable information (here on referred to as pii) such as names and social numbers are rarely of any interest to the research, and is merely used by the data collector to ensure that the data corresponds to an actual individual. A solution could then be to use Pseudonomyous identifiers, where unique identifier is generated for each data entry in such a way that one cannot rediscover the original identity from the data set alone. This is the main focus in the talk by Simenov &amp; Victoroff, which is described in part 2.</p>
<p>As it turns out however, this is not the only privacy measure needed. In a very interesting case study, <a href="http://www.cs.pomona.edu/%7Esara/classes/cs190-fall12/k-anonymity.pdf">Latanya Sweeney showed</a> that given anonymised medical records, along with publicly avaliable voter registration records, she was able to discover medical information (such as conditions, treatments &amp; medications prescribed) regarding the then governor of Massachusetts. She did this by a join attack; the voter registration data contained name, address, ZIP code, birth date, and gender of each voter and in the medical data there was only one person with the governors ZIP code, gender and date of birth. This introduces the notion of quasi-identifiers, pieces of information that while not sensitive on its own, can be combined together with other pieces of non-sensitive data to reveal sensitive information. This can be adressed through the concepts of k-anonymity and some derivative methods that introduce &quot;reasonable doubt&quot; to the identity of the person behind the data.</p>
<p>Further, we will take a look at differential privacy, which adresses the problem presented in example 1, that inclusion/removal is itself privacy compromising. Differential privacy aims to provide a statistical framework to measure how private an estimator is, more specifically how sensitive the output of an estimation procedure is to the inclusion/removal of an entry in the set. The main approach to increasing the privacy of a given estimator is by introducing some stochastic distortion to the computations to obtain a desired degree of privacy. This approach is not without its flaws; most notably how it decreases the accuracy of estimators.</p>
</div>
<div class="cell markdown">
<h3 id="what-the-gdpr-requires-from-data-scientists"><a class="header" href="#what-the-gdpr-requires-from-data-scientists">What The GDPR Requires From Data Scientists:</a></h3>
<p>The GDPR now puts it into law that the holder and utilizer of data is responisble for its safe keeping by enforcing certain practices regarding the storage of the data. In practice, this is broken down into 3* categories.</p>
<h4 id="1-data-protection--records-of-processing"><a class="header" href="#1-data-protection--records-of-processing">1) Data Protection &amp; Records of Processing</a></h4>
<p>The GDPR specifes that by design data must be protected and encryption should be done locally, not utilizing any outside service. This will be relevant in the process of pseudonymization decribed below. Whenever the data is processed, records must be kept of the processing done, its purpose, what data was utilized and a projected time plan for how long the result will be used.</p>
<p>Key Points:</p>
<ul>
<li>Encryption/decryption must be done locally</li>
<li>Keep records of what you used the data for; <a href="https://gdpr-info.eu/issues/records-of-processing-activities/">see</a></li>
</ul>
<h5 id="details"><a class="header" href="#details">Details</a></h5>
<p>That part is in reference to this line &quot; In particular, such measures shall ensure that by default personal data are not made accessible without the individual's intervention to an indefinite number of natural persons.&quot; from Article 25: - https://www.privacy-regulation.eu/en/article-25-data-protection-by-design-and-by-default-GDPR.htm</p>
<p>In a report by ENISA (Eu Network and information security agency) they make the explicit claim that you should do local encryption (p. 20) - https://web.archive.org/web/20170405171636/https://www.enisa.europa.eu/publications/privacy-and-data-protection-by-design</p>
<h4 id="2-pseudonymization--the-right-of-access"><a class="header" href="#2-pseudonymization--the-right-of-access">2) Pseudonymization &amp; The Right Of Access</a></h4>
<h5 id="--direct-identifiers"><a class="header" href="#--direct-identifiers">- Direct Identifiers</a></h5>
<img src="http://i.imgur.com/pLIOVvp.png" alt="drawing" width="600">
<ul>
<li>An identifier is any attribute that can be used to directly identify an individual in your data set, such as names &amp; social numbers.</li>
<li>The GDPR stipulates that the data holder must provide proper protection on identifiers in the form of pseudonymization.</li>
</ul>
<p>The purpose of pseudonymization is to adress the fact that rarely do data holders need direct identifiers to perform analysis, and so aims to enforce that each such identifier is to be replaced with a pseudonym, useful only to distinguish members of a data set from each other. Another principle of the law is that any individual in the data set should at any time be able to query the holder on what information is being kept about them. Combining these two principles, it becomes clear that the pseudonymization must be caried out in such a way that it is effective, but also (partially) reversible, at least to an extent that given an identifier we can find what information is being kept on this subject.</p>
<h4 id="3-the-right-of-erasure"><a class="header" href="#3-the-right-of-erasure">3) The Right Of Erasure</a></h4>
<p>A data subject also has the right to at any time request for their data to be removed from the data set. Again, this requires that any pseudonomyzation must be query-able to find a certain individual, and that the pseudonyms cannot be purely destructive. As we well investigate later, this act of removal poses its own risks in terms of privacy exposure as the below example demonstrates.</p>
<ul>
<li>Note: The right of erasure is a limited right, meaning that the data holder does not always have to comply.</li>
</ul>
<h5 id="when-do-we-not-need-to-delete-the-data"><a class="header" href="#when-do-we-not-need-to-delete-the-data">When do we <em>not</em> need to delete the data?</a></h5>
<p>1) The personal data your company/organisation holds is needed to exercise the right of freedom of expression</p>
<p>2) There is a legal obligation to keep that data</p>
<p>3) For reasons of public interest (for example public health, scientific, statistical or historical research purposes)</p>
<ul>
<li>
<p>For more details see: (https://gdpr-info.eu/art-17-gdpr/) and <a href="https://ec.europa.eu/info/law/law-topic/data-protection/reform/rules-business-and-organisations/dealing-citizens/do-we-always-have-delete-personal-data-if-person-asks_en">Do we always have to delete personal data if a person asks?</a></p>
</li>
<li>
<p>Notice that &quot;Commercial Purposes&quot; does not fit in to any of these options.</p>
</li>
</ul>
<h5 id="example-of-privacy-concerns-with-erasure"><a class="header" href="#example-of-privacy-concerns-with-erasure">Example of Privacy Concerns With Erasure:</a></h5>
<p>Suppose there is a data set containing individuals exercise habits, categorizing them as &quot;runners&quot; or &quot;non-runners&quot;. You request the number of runners in the set, and recieve the answer 49. This in itself does not give any information on any individual in the set. Then, Alice requests to have her data removed from the set. You run the query again, and discover that there are now only 48 runners in the set, and so you have obtained information regarding Alice just by her wanting her data removed. This problem leads to the subject of query-level privacy and differential privacy which will be discussed later.</p>
</div>
<div class="cell code" execution_count="1" scrolled="auto">
<div class="output execute_result html_result" execution_count="1">
<iframe 
 src="https://en.wikipedia.org/wiki/General_Data_Protection_Regulation"
 width="95%" height="350"
 sandbox>
  <p>
    <a href="http://spark.apache.org/docs/latest/index.html">
      Fallback link for browsers that, unlikely, don't support frames
    </a>
  </p>
</iframe>
</div>
</div>
<div class="cell markdown">
<ul>
<li>
<p><a href="https://ec.europa.eu/commission/priorities/justice-and-fundamental-rights/data-protection/2018-reform-eu-data-protection-rules_en">EU Offical Site On GDPR</a></p>
</li>
<li>
<p><a href="https://www.datainspektionen.se/lagar--regler/dataskyddsforordningen/">Swedish Agency Datainspektionen on GDPR</a></p>
</li>
<li>
<p><a href="https://eugdpr.org/">eugdpr.org (Unoffical Resource On GDPR for Organizations &amp; Companies)</a></p>
</li>
</ul>
</div>
<div class="cell markdown">
<h4 id="4-the-right-of-explanation"><a class="header" href="#4-the-right-of-explanation">4) The Right Of Explanation*</a></h4>
<p>One concept in the GDPR is that individuals have the right to have it &quot;explained&quot; why decisions made by an algorithm using their data were made. This is relevant to any sort of predictive modelling, and classifiers that places individuals in categories. But what exactly does explanation mean? Does &quot;the algorithm said so&quot; suffice? And how does this affect black box models?</p>
<p>It is already a well known problem in ML applications that models can lack human interpretations, so how can these be used if explainability is required?</p>
<p>Art. 13 of the GDPR:</p>
<blockquote>
<p>&quot;... the controller shall, at the time when personal data are obtained, provide the data subject with the following further information necessary to ensure fair and transparent processing: ...meaningful information about the logic involved, as well as the significance and the envisaged consequences of such processing for the data subject&quot;</p>
</blockquote>
<p>This makes a statement on both the operational workings, &quot;the logic involved&quot; <em>and</em> a more human readable understanding on the meaning of the outcome. Recital 71 (a non-legally binding explanation of the intents of the law) states:</p>
<blockquote>
<p>“(automated processing)... should be subject to suitable safeguards, which should include specific information to the data subject and the right to obtain human intervention, to express his or her point of view, to obtain an explanation of the decision reached after such assessment and to challenge the decision.&quot;</p>
</blockquote>
<p>The intent seems to be to give members of a data set insight in how to their data being processed might affect them, and to give them sufficient information as to be able to make the decision on whether to be included in the set. This leads to a &quot;best practices&quot; checklist for model building:</p>
<p>1) <strong>Technical Report</strong>: Detail from where the data was gathered, and what features where selected for in the model training. For the model(s) used, write them down and the motivation for their choice.</p>
<p>2) <strong>Understand Deployment</strong>: Make a detailed list on what the model will be used for, and the possible (direct) consequences for an individual included in the data set. Study the effects of false positives and false negatives, since this will help you comply with the &quot;significance&quot; part of art. 13.</p>
<p>3) <strong>Educate The Subject</strong>: Together with the above material, list the possible pros/cons of being included in the data set and present the information about the model that best relate to these aspects.</p>
<p>The above list aims to help data scientist comply with any questions they may recieve on the &quot;logic&quot; and &quot;significance&quot; part of art. 13.</p>
</div>
<div class="cell markdown">
<p>See the notebook: https://databricks-prod-cloudfront.cloud.databricks.com/public/4027ec902e239c93eaaa8714f173bcfc/806262291388233/586373581842786/4884583572804914/latest.html</p>
</div>
<div class="cell markdown">
<p>See the notebook: https://databricks-prod-cloudfront.cloud.databricks.com/public/4027ec902e239c93eaaa8714f173bcfc/806262291388233/365321721214438/4884583572804914/latest.html</p>
</div>
<div class="cell code" execution_count="1" scrolled="false">
<pre><code class="language-scala">coming soon
</code></pre>
</div>
<div class="cell code" execution_count="1" scrolled="false">
<pre><code class="language-scala">coming soon
</code></pre>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        
                            <a rel="next" href="../../contents/000_8-sds-3-x-pri/02_privacyPreservingDataScience_pseudonomyzation.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
                    <a rel="next" href="../../contents/000_8-sds-3-x-pri/02_privacyPreservingDataScience_pseudonomyzation.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
