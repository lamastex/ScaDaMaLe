
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ScaDaMaLe, Scalable Data Science and Distributed Machine Learning &#8212; Scalable Data Science &amp; Distributed Machine Learning</title>
    
  <link rel="stylesheet" href="../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ScaDaMaLe, Scalable Data Science and Distributed Machine Learning" href="004_RDDsTransformationsActions.html" />
    <link rel="prev" title="ScaDaMaLe, Scalable Data Science and Distributed Machine Learning" href="003_00_scalaCrashCourse.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Scalable Data Science & Distributed Machine Learning</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="000_ScaDaMaLe.html">
   Introduction
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Introduction to Apache Spark Core
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="001_whySpark.html">
   Why Apache Spark?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="002_00_loginToDatabricks.html">
   databricks community edition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="002_00_loginToDatabricks.html#essentials-of-databricks-cloud-dbc-in-a-big-hurry">
   Essentials of Databricks Cloud (DBC) in a Big Hurry
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="002_00_loginToDatabricks.html#dbc-essentials-what-is-databricks-cloud">
   DBC Essentials: What is Databricks Cloud?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="002_00_loginToDatabricks.html#dbc-essentials-shard-cluster-notebook-and-dashboard">
   DBC Essentials: Shard, Cluster, Notebook and Dashboard
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="002_00_loginToDatabricks.html#dbc-essentials-team-state-collaboration-elastic-resources">
   DBC Essentials: Team, State, Collaboration, Elastic Resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="002_00_loginToDatabricks.html#you-should-all-have-databricks-community-edition-account-by-now">
   You Should All Have databricks community edition account by now!
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="002_00_loginToDatabricks.html#import-course-content-now">
   Import Course Content Now!
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="002_00_loginToDatabricks.html#cloud-free-computing-environment-optional-but-recommended">
   Cloud-free Computing Environment (Optional but recommended)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="002_01_multiLingualNotebooks.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="002_01_multiLingualNotebooks.html#notebooks">
   Notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="002_01_multiLingualNotebooks.html#further-reference-homework-recurrrent-points-of-reference">
   Further Reference / Homework / Recurrrent Points of Reference
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html#introduction-to-scala">
   Introduction to Scala
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html#let-s-get-our-hands-dirty-in-scala">
   Let’s get our hands dirty in Scala
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html#scala-types">
   Scala Types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html#expressions">
   Expressions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html#blocks">
   Blocks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html#functions">
   Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html#methods">
   Methods
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html#classes">
   Classes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html#case-classes">
   Case Classes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html#objects">
   Objects
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html#traits">
   Traits
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html#main-method">
   Main Method
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="003_00_scalaCrashCourse.html#what-i-try-not-do-while-learning-a-new-language">
   What I try not do while learning a new language?
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#let-s-continue-to-get-our-hands-dirty-in-scala">
   Let’s continue to get our hands dirty in Scala
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#scala-type-hierarchy">
   Scala Type Hierarchy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#scala-collections">
   Scala Collections
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#exercise-in-functional-programming">
   Exercise in Functional Programming
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#lazy-evaluation">
   Lazy Evaluation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#recursions">
   Recursions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="004_RDDsTransformationsActions.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="004_RDDsTransformationsActions.html#introduction-to-spark">
   Introduction to Spark
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="004_RDDsTransformationsActions.html#spark-cluster-overview">
   Spark Cluster Overview:
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="005_RDDsTransformationsActionsHOMEWORK.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="005_RDDsTransformationsActionsHOMEWORK.html#homework-notebook-rdds-transformations-and-actions">
   HOMEWORK notebook - RDDs Transformations and Actions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="006a_PipedRDD.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="006a_PipedRDD.html#piped-rdds-and-bayesian-ab-testing">
   Piped RDDs and Bayesian AB Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="006a_PipedRDD.html#from-a-local-collection">
   From a Local Collection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="006a_PipedRDD.html#glom">
   glom
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="006a_PipedRDD.html#checkpointing">
   Checkpointing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="006a_PipedRDD.html#pipe-rdds-to-system-commands">
   Pipe RDDs to System Commands
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="006a_PipedRDD.html#mappartitions">
   mapPartitions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="006a_PipedRDD.html#foreachpartition">
   foreachPartition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="006a_PipedRDD.html#numerically-rigorous-bayesian-ab-testing">
   Numerically Rigorous Bayesian AB Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="006a_PipedRDD.html#usage-instructions-for-isit1or2coins">
   Usage instructions for IsIt1or2Coins
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="006_WordCount.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="006_WordCount.html#word-count-on-us-state-of-the-union-sou-addresses">
   Word Count on US State of the Union (SoU) Addresses
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Introduction to Apache Spark SQL
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="007_SparkSQLIntroBasics.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007_SparkSQLIntroBasics.html#introduction-to-spark-sql">
   Introduction to Spark SQL
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007_SparkSQLIntroBasics.html#overview">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007_SparkSQLIntroBasics.html#datasets-and-dataframes">
   Datasets and DataFrames
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007_SparkSQLIntroBasics.html#getting-started-in-spark-2-x">
   Getting Started in Spark 2.x
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007a_SparkSQLProgGuide_HW.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007a_SparkSQLProgGuide_HW.html#spark-sql-programming-guide">
   Spark Sql Programming Guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007b_SparkSQLProgGuide_HW.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007b_SparkSQLProgGuide_HW.html#getting-started">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007b_SparkSQLProgGuide_HW.html#id1">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007c_SparkSQLProgGuide_HW.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007c_SparkSQLProgGuide_HW.html#getting-started-exercise">
   Getting Started - Exercise
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007d_SparkSQLProgGuide_HW.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007d_SparkSQLProgGuide_HW.html#data-sources">
   Data Sources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007d_SparkSQLProgGuide_HW.html#id1">
   Data Sources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007e_SparkSQLProgGuide_HW.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007e_SparkSQLProgGuide_HW.html#performance-tuning">
   Performance Tuning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007f_SparkSQLProgGuide_HW.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007f_SparkSQLProgGuide_HW.html#distributed-sql-engine">
   Distributed SQL Engine
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007f_SparkSQLProgGuide_HW.html#id1">
   Distributed SQL Engine
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007g_PivotInSQL.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007g_PivotInSQL.html#sql-pivoting-since-spark-2-4">
   SQL Pivoting since Spark 2.4
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007g_PivotInSQL.html#load-data">
   Load Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007g_PivotInSQL.html#pivoting-in-sql">
   Pivoting in SQL
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007g_PivotInSQL.html#pivoting-with-multiple-aggregate-expressions">
   Pivoting with Multiple Aggregate Expressions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007g_PivotInSQL.html#pivoting-with-multiple-grouping-columns">
   Pivoting with Multiple Grouping Columns
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="007g_PivotInSQL.html#pivoting-with-multiple-pivot-columns">
   Pivoting with Multiple Pivot Columns
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="008_DiamondsPipeline_01ETLEDA.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="009_PowerPlantPipeline_01ETLEDA.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="010_wikipediaClickStream_01ETLEDA.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="010_wikipediaClickStream_01ETLEDA.html#wiki-clickstream-analysis">
   Wiki Clickstream Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="010_wikipediaClickStream_01ETLEDA.html#wikipedia-logo">
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_LoadExtract.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_LoadExtract.html#old-bailey-online-data-analysis-in-apache-spark">
   Old Bailey Online Data Analysis in Apache Spark
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_LoadExtract.html#analysing-the-full-old-bailey-online-sessions-papers-dataset">
   Analysing the Full Old Bailey Online Sessions Papers Dataset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_PipedRDD_RigorousBayesianABTesting.html">
   Piped RDDs and Bayesian AB Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_PipedRDD_RigorousBayesianABTesting.html#from-a-local-collection">
   From a Local Collection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_PipedRDD_RigorousBayesianABTesting.html#glom">
   glom
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_PipedRDD_RigorousBayesianABTesting.html#checkpointing">
   Checkpointing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_PipedRDD_RigorousBayesianABTesting.html#pipe-rdds-to-system-commands">
   Pipe RDDs to System Commands
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_PipedRDD_RigorousBayesianABTesting.html#mappartitions">
   mapPartitions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_PipedRDD_RigorousBayesianABTesting.html#foreachpartition">
   foreachPartition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_PipedRDD_RigorousBayesianABTesting.html#numerically-rigorous-bayesian-ab-testing">
   Numerically Rigorous Bayesian AB Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_PipedRDD_RigorousBayesianABTesting.html#usage-instructions-for-isit1or2coins">
   Usage instructions for IsIt1or2Coins
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_PipedRDD_RigorousBayesianABTesting.html#parsing-the-output-from-isit1or2coins">
   Parsing the output from
   <code class="docutils literal notranslate">
    <span class="pre">
     IsIt1or2Coins
    </span>
   </code>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="033_OBO_PipedRDD_RigorousBayesianABTesting.html#providing-case-classes-for-input-and-output-for-easy-spark-communication">
   Providing case classes for input and output for easy spark communication
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="035_LDA_CornellMovieDialogs.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="035_LDA_CornellMovieDialogs.html#topic-modeling-of-movie-dialogs-with-latent-dirichlet-allocation">
   Topic Modeling of Movie Dialogs with Latent Dirichlet Allocation
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  WASP AI-Track Student Projects
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="035_LDA_CornellMovieDialogs.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="035_LDA_CornellMovieDialogs.html#topic-modeling-of-movie-dialogs-with-latent-dirichlet-allocation">
   Topic Modeling of Movie Dialogs with Latent Dirichlet Allocation
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Voluntary Student Projects
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="030_Spark_GDELT_project.html">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="030_Spark_GDELT_project.html#plugging-into-gdelt-streams-todo-in-progress">
   Plugging into GDELT Streams - TODO - IN PROGRESS
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="030_Spark_GDELT_project.html#this-is-just-dipping-our-pinky-toe-in-this-ocean-of-information">
   This is just dipping our pinky toe in this ocean of information!
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="030_Spark_GDELT_project.html#download-from-gdelt-project">
   Download from gdelt-project
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/000_1-sds-3-x/003_01_scalaCrashCourse.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://lamastex.github.io/ScaDaMaLe/index.html"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://lamastex.github.io/ScaDaMaLe/index.html/issues/new?title=Issue%20on%20page%20%2F000_1-sds-3-x/003_01_scalaCrashCourse.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   ScaDaMaLe, Scalable Data Science and Distributed Machine Learning
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#scala-resources">
     Scala Resources
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#let-s-continue-to-get-our-hands-dirty-in-scala">
   Let’s continue to get our hands dirty in Scala
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#scala-type-hierarchy">
   Scala Type Hierarchy
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#scala-collections">
   Scala Collections
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#list">
     List
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#vectors">
     Vectors
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#arrays-sequences-and-tuples">
     Arrays, Sequences and Tuples
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#functional-programming-and-mapreduce">
     Functional Programming and MapReduce
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#five-ways-of-adding-1">
       Five ways of adding 1
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercise-in-functional-programming">
   Exercise in Functional Programming
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lazy-evaluation">
   Lazy Evaluation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lazy-evaluation-exercise-you-try-now">
     Lazy Evaluation Exercise - You try Now!
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#why-lazy">
     Why Lazy?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#recursions">
   Recursions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tail-recursion-exercise-you-try-now">
     Tail Recursion Exercise - You Try Now
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="scadamale-scalable-data-science-and-distributed-machine-learning">
<h1><a class="reference external" href="https://lamastex.github.io/scalable-data-science/sds/3/x/">ScaDaMaLe, Scalable Data Science and Distributed Machine Learning</a><a class="headerlink" href="#scadamale-scalable-data-science-and-distributed-machine-learning" title="Permalink to this headline">¶</a></h1>
<div class="section" id="scala-resources">
<h2>Scala Resources<a class="headerlink" href="#scala-resources" title="Permalink to this headline">¶</a></h2>
<p>You will not be learning scala systematically and thoroughly in this
course. You will learn <em>to use</em> Scala by doing various Spark jobs.</p>
<p>If you are interested in learning scala properly, then there are various
resources, including:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.scala-lang.org/">scala-lang.org</a> is the <strong>core Scala
resource</strong>. Bookmark the following three links:</p>
<ul>
<li><p><a class="reference external" href="https://docs.scala-lang.org/tour/tour-of-scala.html">tour-of-scala</a> -
Bite-sized introductions to core language features.</p>
<ul>
<li><p>we will go through the tour in a hurry now as some Scala
familiarity is needed immediately.</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://docs.scala-lang.org/overviews/scala-book/introduction.html">scala-book</a> -
An online book introducing the main language features</p>
<ul>
<li><p>you are expected to use this resource to figure out Scala as
needed.</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://docs.scala-lang.org/cheatsheets/index.html">scala-cheatsheet</a> -
A handy cheatsheet covering the basics of Scala syntax.</p></li>
<li><p><a class="reference external" href="https://superruzafa.github.io/visual-scala-reference/">visual-scala-reference</a> -
This guide collects some of the most common functions of the
Scala Programming Language and explain them conceptual and
graphically in a simple way.</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://docs.scala-lang.org/learn.html">Online Resources</a>,
including:</p>
<ul>
<li><p><a class="reference external" href="https://www.coursera.org/course/progfun">courseera: Functional Programming Principles in
Scala</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="http://www.scala-lang.org/documentation/books.html">Books</a></p>
<ul>
<li><p><a class="reference external" href="http://www.artima.com/pins1ed/">Programming in Scala, 1st Edition, Free Online
Reading</a></p></li>
</ul>
</li>
</ul>
<p>The main sources for the following content are (you are encouraged to
read them for more background):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.scala-lang.org/old/sites/default/files/linuxsoft_archives/docu/files/ScalaByExample.pdf">Martin Oderski’s Scala by
example</a></p></li>
<li><p><a class="reference external" href="http://lintool.github.io/SparkTutorial/slides/day1_Scala_crash_course.pdf">Scala crash course by Holden
Karau</a></p></li>
<li><p><a class="reference external" href="https://darrenjw.wordpress.com/2013/12/30/brief-introduction-to-scala-and-breeze-for-statistical-computing/">Darren’s brief introduction to scala and breeze for statistical
computing</a></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//%</span><span class="n">run</span> <span class="s2">&quot;/scalable-data-science/xtraResources/support/sdsFunctions&quot;</span>
<span class="o">//</span><span class="n">This</span> <span class="n">allows</span> <span class="n">easy</span> <span class="n">embedding</span> <span class="n">of</span> <span class="n">publicly</span> <span class="n">available</span> <span class="n">information</span> <span class="n">into</span> <span class="nb">any</span> <span class="n">other</span> <span class="n">notebook</span>
<span class="o">//</span><span class="n">when</span> <span class="n">viewing</span> <span class="ow">in</span> <span class="n">git</span><span class="o">-</span><span class="n">book</span> <span class="n">just</span> <span class="n">ignore</span> <span class="n">this</span> <span class="n">block</span> <span class="o">-</span> <span class="n">you</span> <span class="n">may</span> <span class="n">have</span> <span class="n">to</span> <span class="n">manually</span> <span class="n">chase</span> <span class="n">the</span> <span class="n">URL</span> <span class="ow">in</span> <span class="n">frameIt</span><span class="p">(</span><span class="s2">&quot;URL&quot;</span><span class="p">)</span><span class="o">.</span>
<span class="o">//</span><span class="n">Example</span> <span class="n">usage</span><span class="p">:</span>
<span class="o">//</span> <span class="n">displayHTML</span><span class="p">(</span><span class="n">frameIt</span><span class="p">(</span><span class="s2">&quot;https://en.wikipedia.org/wiki/Latent_Dirichlet_allocation#Topics_in_LDA&quot;</span><span class="p">,</span><span class="mi">250</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">frameIt</span><span class="p">(</span> <span class="n">u</span><span class="p">:</span><span class="n">String</span><span class="p">,</span> <span class="n">h</span><span class="p">:</span><span class="n">Int</span> <span class="p">)</span> <span class="p">:</span> <span class="n">String</span> <span class="o">=</span> <span class="p">{</span>
      <span class="sd">&quot;&quot;&quot;&lt;iframe </span>
<span class="sd"> src=&quot;&quot;&quot;</span><span class="s2">&quot;+ u+&quot;&quot;&quot;&quot;</span>
<span class="s2"> width=&quot;95%&quot; height=&quot;&quot;&quot;&quot; + h + &quot;&quot;&quot;&quot;</span>
<span class="s2"> sandbox&gt;</span>
<span class="s2">  &lt;p&gt;</span>
<span class="s2">    &lt;a href=&quot;http://spark.apache.org/docs/latest/index.html&quot;&gt;</span>
<span class="s2">      Fallback link for browsers that, unlikely, don&#39;t support frames</span>
<span class="s2">    &lt;/a&gt;</span>
<span class="s2">  &lt;/p&gt;</span>
<span class="s2">&lt;/iframe&gt;&quot;&quot;&quot;</span>
   <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="let-s-continue-to-get-our-hands-dirty-in-scala">
<h1>Let’s continue to get our hands dirty in Scala<a class="headerlink" href="#let-s-continue-to-get-our-hands-dirty-in-scala" title="Permalink to this headline">¶</a></h1>
<p>We will go through the <strong>remaining</strong> programming concepts and tasks by
building on <a class="reference external" href="https://docs.scala-lang.org/tour/basics.html">https://docs.scala-lang.org/tour/basics.html</a>.</p>
<ul class="simple">
<li><p>Scala Types</p></li>
<li><p>Expressions and Printing</p></li>
<li><p>Naming and Assignments</p></li>
<li><p>Functions and Methods in Scala</p></li>
<li><p>Classes and Case Classes</p></li>
<li><p>Methods and Tab-completion</p></li>
<li><p>Objects and Traits</p></li>
<li><p><strong>Collections in Scala and Type Hierarchy</strong></p></li>
<li><p><strong>Functional Programming and MapReduce</strong></p></li>
<li><p><strong>Lazy Evaluations and Recursions</strong></p></li>
</ul>
<p><strong>Remark</strong>: You need to take a computer science course (from CourseEra,
for example) to properly learn Scala. Here, we will learn to use Scala
by example to accomplish our data science tasks at hand. You can learn
more Scala as needed from various sources pointed out above in <strong>Scala
Resources</strong>.</p>
</div>
<div class="section" id="scala-type-hierarchy">
<h1>Scala Type Hierarchy<a class="headerlink" href="#scala-type-hierarchy" title="Permalink to this headline">¶</a></h1>
<p>In Scala, all values have a type, including numerical values and
functions. The diagram below illustrates a subset of the type hierarchy.</p>
<p><img alt="" src="https://docs.scala-lang.org/resources/images/tour/unified-types-diagram.svg" /></p>
<p>For now, notice some common types we will be usinf including <code class="docutils literal notranslate"><span class="pre">Int</span></code>,
<code class="docutils literal notranslate"><span class="pre">String</span></code>, <code class="docutils literal notranslate"><span class="pre">Double</span></code>, <code class="docutils literal notranslate"><span class="pre">Unit</span></code>, <code class="docutils literal notranslate"><span class="pre">Boolean</span></code>, <code class="docutils literal notranslate"><span class="pre">List</span></code>, etc. For more details see
<a class="reference external" href="https://docs.scala-lang.org/tour/unified-types.html">https://docs.scala-lang.org/tour/unified-types.html</a>.</p>
<p>Let us take a closer look at Scala Type Hierarchy now.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">displayHTML</span><span class="p">(</span><span class="n">frameIt</span><span class="p">(</span><span class="s2">&quot;https://docs.scala-lang.org/tour/unified-types.html&quot;</span><span class="p">,</span><span class="mi">550</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="scala-collections">
<h1>Scala Collections<a class="headerlink" href="#scala-collections" title="Permalink to this headline">¶</a></h1>
<p>Familiarize yourself with the main Scala collections classes here:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.scala-lang.org/overviews/scala-book/collections-101.html">https://docs.scala-lang.org/overviews/scala-book/collections-101.html</a></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">displayHTML</span><span class="p">(</span><span class="n">frameIt</span><span class="p">(</span><span class="s2">&quot;https://docs.scala-lang.org/overviews/scala-book/collections-101.html&quot;</span><span class="p">,</span><span class="mi">550</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list">
<h2>List<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h2>
<p>Lists are one of the most basic data structures.</p>
<p>There are several other Scala collections and we will introduce them as
needed. The other most common ones are <code class="docutils literal notranslate"><span class="pre">Vector</span></code>, <code class="docutils literal notranslate"><span class="pre">Array</span></code> and <code class="docutils literal notranslate"><span class="pre">Seq</span></code> and
the <code class="docutils literal notranslate"><span class="pre">ArrayBuffer</span></code>.</p>
<p>For details on list see: -
<a class="reference external" href="https://docs.scala-lang.org/overviews/scala-book/list-class.html">https://docs.scala-lang.org/overviews/scala-book/list-class.html</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="o">&lt;</span><span class="n">Ctrl</span><span class="o">+</span><span class="n">Enter</span><span class="o">&gt;</span> <span class="n">to</span> <span class="n">declare</span> <span class="p">(</span><span class="n">an</span> <span class="n">immutable</span><span class="p">)</span> <span class="n">val</span> <span class="n">lst</span> <span class="k">as</span> <span class="n">List</span> <span class="n">of</span> <span class="n">Int</span><span class="s1">&#39;s 1,2,3</span>
<span class="n">val</span> <span class="n">lst</span> <span class="o">=</span> <span class="n">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="vectors">
<h2>Vectors<a class="headerlink" href="#vectors" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The Vector class is an indexed, immutable sequence. The “indexed” part
of the description means that you can access Vector elements very
rapidly by their index value, such as accessing listOfPeople(999999).</p>
</div></blockquote>
<p>In general, except for the difference that Vector is indexed and List is
not, the two classes work the same, so we’ll run through these examples
quickly.</p>
<p>For details see: -
<a class="reference external" href="https://docs.scala-lang.org/overviews/scala-book/vector-class.html">https://docs.scala-lang.org/overviews/scala-book/vector-class.html</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">val</span> <span class="n">vec</span> <span class="o">=</span> <span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="arrays-sequences-and-tuples">
<h2>Arrays, Sequences and Tuples<a class="headerlink" href="#arrays-sequences-and-tuples" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference external" href="https://www.scala-lang.org/api/current/scala/collection/index.html">https://www.scala-lang.org/api/current/scala/collection/index.html</a>
for docs.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">val</span> <span class="n">arr</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="o">//</span> <span class="o">&lt;</span><span class="n">Shift</span><span class="o">-</span><span class="n">Enter</span><span class="o">&gt;</span> <span class="n">to</span> <span class="n">declare</span> <span class="n">an</span> <span class="n">Array</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">val</span> <span class="n">seq</span> <span class="o">=</span> <span class="n">Seq</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>    <span class="o">//</span> <span class="o">&lt;</span><span class="n">Shift</span><span class="o">-</span><span class="n">Enter</span><span class="o">&gt;</span> <span class="n">to</span> <span class="n">declare</span> <span class="n">a</span> <span class="n">Seq</span>
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p>A tuple is a neat class that gives you a simple way to store
heterogeneous (different) items in the same container. We will use
tuples for key-value pairs in Spark.</p>
</div></blockquote>
<p>See <a class="reference external" href="https://docs.scala-lang.org/overviews/scala-book/tuples.html">https://docs.scala-lang.org/overviews/scala-book/tuples.html</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">val</span> <span class="n">myTuple</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="n">a</span> <span class="mi">2</span><span class="o">-</span><span class="nb">tuple</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myTuple</span><span class="o">.</span><span class="n">_1</span> <span class="o">//</span> <span class="n">accessing</span> <span class="n">the</span> <span class="n">first</span> <span class="n">element</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">tuple</span><span class="o">.</span> <span class="n">NOTE</span> <span class="n">index</span> <span class="n">starts</span> <span class="n">at</span> <span class="mi">1</span> <span class="ow">not</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">tuples</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myTuple</span><span class="o">.</span><span class="n">_2</span> <span class="o">//</span> <span class="n">accessing</span> <span class="n">the</span> <span class="n">second</span> <span class="n">element</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">tuple</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="functional-programming-and-mapreduce">
<h2>Functional Programming and MapReduce<a class="headerlink" href="#functional-programming-and-mapreduce" title="Permalink to this headline">¶</a></h2>
<p><em>“Functional programming is a style of programming that emphasizes
writing applications using only pure functions and immutable values. As
Alvin Alexander wrote in Functional Programming, Simplified, rather than
using that description, it can be helpful to say that functional
programmers have an extremely strong desire to see their code as math —
to see the combination of their functions as a series of algebraic
equations. In that regard, you could say that functional programmers
like to think of themselves as mathematicians. That’s the driving desire
that leads them to use only pure functions and immutable values, because
that’s what you use in algebra and other forms of math.”</em></p>
<p>See
<a class="reference external" href="https://docs.scala-lang.org/overviews/scala-book/functional-programming.html">https://docs.scala-lang.org/overviews/scala-book/functional-programming.html</a>
for short lessons in functional programming.</p>
<p>We will apply functions for processing elements of a scala collection to
quickly demonstrate functional programming.</p>
<div class="section" id="five-ways-of-adding-1">
<h3>Five ways of adding 1<a class="headerlink" href="#five-ways-of-adding-1" title="Permalink to this headline">¶</a></h3>
<p>The first four use anonymous functions and the last one uses a named
method.</p>
<ol class="simple">
<li><p>explicit version: <code class="docutils literal notranslate"><span class="pre">%scala</span> <span class="pre">(x:</span> <span class="pre">Int)</span> <span class="pre">=&gt;</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1</span></code></p></li>
<li><p>type-inferred more intuitive version: <code class="docutils literal notranslate"><span class="pre">%scala</span> <span class="pre">x</span> <span class="pre">=&gt;</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1</span></code></p></li>
<li><p>placeholder syntax (each argument must be used exactly once):
<code class="docutils literal notranslate"><span class="pre">%scala</span> <span class="pre">_</span> <span class="pre">+</span> <span class="pre">1</span></code></p></li>
<li><p>type-inferred more intuitive version with code-block for larger
function body:
<code class="docutils literal notranslate"><span class="pre">%scala</span> <span class="pre">x</span> <span class="pre">=&gt;</span> <span class="pre">{</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">//</span> <span class="pre">body</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">block</span> <span class="pre">of</span> <span class="pre">code</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">val</span> <span class="pre">integerToAdd</span> <span class="pre">=</span> <span class="pre">1</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">x</span> <span class="pre">+</span> <span class="pre">integerToAdd</span> <span class="pre">}</span></code></p></li>
<li><p>as methods using <code class="docutils literal notranslate"><span class="pre">def</span></code>: <code class="docutils literal notranslate"><span class="pre">%scala</span> <span class="pre">def</span> <span class="pre">addOne(x:</span> <span class="pre">Int):</span> <span class="pre">Int</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1</span></code></p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">displayHTML</span><span class="p">(</span><span class="n">frameIt</span><span class="p">(</span><span class="s2">&quot;https://superruzafa.github.io/visual-scala-reference/map/&quot;</span><span class="p">,</span><span class="mi">500</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>Now, let’s do some functional programming over scala collection (<code class="docutils literal notranslate"><span class="pre">List</span></code>)
using some of their methods: <code class="docutils literal notranslate"><span class="pre">map</span></code>, <code class="docutils literal notranslate"><span class="pre">filter</span></code> and <code class="docutils literal notranslate"><span class="pre">reduce</span></code>. In the end we
will write our first mapReduce program!</p>
<p>For more details see:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.scala-lang.org/overviews/scala-book/collections-methods.html">https://docs.scala-lang.org/overviews/scala-book/collections-methods.html</a></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">displayHTML</span><span class="p">(</span><span class="n">frameIt</span><span class="p">(</span><span class="s2">&quot;https://superruzafa.github.io/visual-scala-reference/map/&quot;</span><span class="p">,</span><span class="mi">500</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="o">&lt;</span><span class="n">Shift</span><span class="o">+</span><span class="n">Enter</span><span class="o">&gt;</span> <span class="n">to</span> <span class="nb">map</span> <span class="n">each</span> <span class="n">value</span> <span class="n">x</span> <span class="n">of</span> <span class="n">lst</span> <span class="k">with</span> <span class="n">x</span><span class="o">+</span><span class="mi">10</span> <span class="n">to</span> <span class="k">return</span> <span class="n">a</span> <span class="n">new</span> <span class="n">List</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span>
<span class="n">lst</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">x</span> <span class="o">=&gt;</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span>  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="o">&lt;</span><span class="n">Shift</span><span class="o">+</span><span class="n">Enter</span><span class="o">&gt;</span> <span class="k">for</span> <span class="n">the</span> <span class="n">same</span> <span class="k">as</span> <span class="n">above</span> <span class="n">using</span> <span class="n">place</span><span class="o">-</span><span class="n">holder</span> <span class="n">syntax</span>
<span class="n">lst</span><span class="o">.</span><span class="n">map</span><span class="p">(</span> <span class="n">_</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span>  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">displayHTML</span><span class="p">(</span><span class="n">frameIt</span><span class="p">(</span><span class="s2">&quot;https://superruzafa.github.io/visual-scala-reference/filter/&quot;</span><span class="p">,</span><span class="mi">600</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="o">&lt;</span><span class="n">Shift</span><span class="o">+</span><span class="n">Enter</span><span class="o">&gt;</span> <span class="n">to</span> <span class="k">return</span> <span class="n">a</span> <span class="n">new</span> <span class="n">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="n">after</span> <span class="n">filtering</span> <span class="n">x</span><span class="s1">&#39;s from lst if (x % 2 == 1) is true</span>
<span class="n">lst</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">x</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="o">&lt;</span><span class="n">Shift</span><span class="o">+</span><span class="n">Enter</span><span class="o">&gt;</span> <span class="k">for</span> <span class="n">the</span> <span class="n">same</span> <span class="k">as</span> <span class="n">above</span> <span class="n">using</span> <span class="n">place</span><span class="o">-</span><span class="n">holder</span> <span class="n">syntax</span>
<span class="n">lst</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="n">_</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">displayHTML</span><span class="p">(</span><span class="n">frameIt</span><span class="p">(</span><span class="s2">&quot;https://superruzafa.github.io/visual-scala-reference/reduce/&quot;</span><span class="p">,</span><span class="mi">600</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="o">&lt;</span><span class="n">Shift</span><span class="o">+</span><span class="n">Enter</span><span class="o">&gt;</span> <span class="n">to</span> <span class="n">use</span> <span class="n">reduce</span> <span class="n">to</span> <span class="n">add</span> <span class="n">elements</span> <span class="n">of</span> <span class="n">lst</span> <span class="n">two</span> <span class="n">at</span> <span class="n">a</span> <span class="n">time</span> <span class="n">to</span> <span class="k">return</span> <span class="n">Int</span> <span class="mi">6</span>
<span class="n">lst</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="o">&lt;</span><span class="n">Ctrl</span><span class="o">+</span><span class="n">Enter</span><span class="o">&gt;</span> <span class="k">for</span> <span class="n">the</span> <span class="n">same</span> <span class="k">as</span> <span class="n">above</span> <span class="n">but</span> <span class="n">using</span> <span class="n">place</span><span class="o">-</span><span class="n">holder</span> <span class="n">syntax</span>
<span class="n">lst</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span> <span class="n">_</span> <span class="o">+</span> <span class="n">_</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s combine <code class="docutils literal notranslate"><span class="pre">map</span></code> and <code class="docutils literal notranslate"><span class="pre">reduce</span></code> programs above to find the sum of after
10 has been added to every element of the original List <code class="docutils literal notranslate"><span class="pre">lst</span></code> as
follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lst</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">x</span> <span class="o">=&gt;</span> <span class="n">x</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
   <span class="o">.</span><span class="n">reduce</span><span class="p">((</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">)</span> <span class="o">//</span> <span class="o">&lt;</span><span class="n">Ctrl</span><span class="o">-</span><span class="n">Enter</span><span class="o">&gt;</span> <span class="n">to</span> <span class="n">get</span> <span class="n">Int</span> <span class="mi">36</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="exercise-in-functional-programming">
<h1>Exercise in Functional Programming<a class="headerlink" href="#exercise-in-functional-programming" title="Permalink to this headline">¶</a></h1>
<p>You should spend an hour or so going through the Functional Programming
Section of the Scala Book:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.scala-lang.org/overviews/scala-book/functional-programming.html">https://docs.scala-lang.org/overviews/scala-book/functional-programming.html</a></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">displayHTML</span><span class="p">(</span><span class="n">frameIt</span><span class="p">(</span><span class="s2">&quot;https://docs.scala-lang.org/overviews/scala-book/functional-programming.html&quot;</span><span class="p">,</span><span class="mi">700</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>There are lots of methods in Scala Collections. And much more in this
<em>scalable language</em>. See for example
<a class="reference external" href="http://docs.scala-lang.org/cheatsheets/index.html">http://docs.scala-lang.org/cheatsheets/index.html</a>.</p>
</div>
<div class="section" id="lazy-evaluation">
<h1>Lazy Evaluation<a class="headerlink" href="#lazy-evaluation" title="Permalink to this headline">¶</a></h1>
<p>Another powerful programming concept we will need is <em>lazy evaluation</em>
– a form of delayed evaluation. So the value of an expression that is
lazily evaluated is only available when it is actually needed.</p>
<p>This is to be contrasted with <em>eager evaluation</em> that we have seen so
far – an expression is immediately evaluated.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">val</span> <span class="n">eagerImmutableInt</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">//</span> <span class="n">eagerly</span> <span class="n">evaluated</span> <span class="k">as</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">var</span> <span class="n">eagerMutableInt</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">//</span> <span class="n">eagerly</span> <span class="n">evaluated</span> <span class="k">as</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s demonstrate lazy evaluation using a <code class="docutils literal notranslate"><span class="pre">getTime</span></code> method and the
keyword <code class="docutils literal notranslate"><span class="pre">lazy</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">java.util.Calendar</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lazy</span> <span class="n">val</span> <span class="n">lazyImmutableTime</span> <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="n">getInstance</span><span class="o">.</span><span class="n">getTime</span> <span class="o">//</span> <span class="n">lazily</span> <span class="n">defined</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">evaluated</span> <span class="n">immediately</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">val</span> <span class="n">eagerImmutableTime</span> <span class="o">=</span> <span class="n">Calendar</span><span class="o">.</span><span class="n">getInstance</span><span class="o">.</span><span class="n">getTime</span> <span class="o">//</span> <span class="n">egaerly</span> <span class="n">evaluated</span> <span class="n">immediately</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">println</span><span class="p">(</span><span class="n">lazyImmutableTime</span><span class="p">)</span> <span class="o">//</span> <span class="n">evaluated</span> <span class="n">when</span> <span class="n">actully</span> <span class="n">needed</span> <span class="n">by</span> <span class="n">println</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">println</span><span class="p">(</span><span class="n">eagerImmutableTime</span><span class="p">)</span> <span class="o">//</span> <span class="n">prints</span> <span class="n">what</span> <span class="n">was</span> <span class="n">already</span> <span class="n">evaluated</span> <span class="n">eagerly</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">lazyDefinedInt</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">//</span> <span class="n">you</span> <span class="n">can</span> <span class="n">also</span> <span class="n">use</span> <span class="n">method</span> <span class="n">to</span> <span class="n">lazily</span> <span class="n">define</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lazyDefinedInt</span> <span class="o">//</span> <span class="n">only</span> <span class="n">evaluated</span> <span class="n">now</span>
</pre></div>
</div>
</div>
</div>
<p>See
<a class="reference external" href="https://www.scala-exercises.org/scala_tutorial/lazy_evaluation">https://www.scala-exercises.org/scala<em>tutorial/lazy</em>evaluation</a>
for more details including the following example with <code class="docutils literal notranslate"><span class="pre">StringBuilder</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">val</span> <span class="n">builder</span> <span class="o">=</span> <span class="n">new</span> <span class="n">StringBuilder</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">val</span> <span class="n">x</span> <span class="o">=</span> <span class="p">{</span> <span class="n">builder</span> <span class="o">+=</span> <span class="s1">&#39;x&#39;</span><span class="p">;</span> <span class="mi">1</span> <span class="p">}</span> <span class="o">//</span> <span class="n">eagerly</span> <span class="n">evaluates</span> <span class="n">x</span> <span class="k">as</span> <span class="mi">1</span> <span class="n">after</span> <span class="n">appending</span> <span class="s1">&#39;x&#39;</span> <span class="n">to</span> <span class="n">builder</span><span class="o">.</span> <span class="n">NOTE</span><span class="p">:</span> <span class="s1">&#39;;&#39;</span> <span class="ow">is</span> <span class="n">used</span> <span class="n">to</span> <span class="n">separate</span> <span class="n">multiple</span> <span class="n">expressions</span> <span class="n">on</span> <span class="n">the</span> <span class="n">same</span> <span class="n">line</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">builder</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">builder</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> <span class="o">//</span> <span class="n">calling</span> <span class="n">x</span> <span class="n">again</span> <span class="n">should</span> <span class="ow">not</span> <span class="n">append</span> <span class="n">x</span> <span class="n">again</span> <span class="n">to</span> <span class="n">builder</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lazy</span> <span class="n">val</span> <span class="n">y</span> <span class="o">=</span> <span class="p">{</span> <span class="n">builder</span> <span class="o">+=</span> <span class="s1">&#39;y&#39;</span><span class="p">;</span> <span class="mi">2</span> <span class="p">}</span> <span class="o">//</span> <span class="n">lazily</span> <span class="n">evaluate</span> <span class="n">y</span> <span class="n">later</span> <span class="n">when</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">called</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">builder</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> <span class="o">//</span> <span class="n">builder</span> <span class="n">should</span> <span class="n">remain</span> <span class="n">unchanged</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">z</span> <span class="o">=</span> <span class="p">{</span> <span class="n">builder</span> <span class="o">+=</span> <span class="s1">&#39;z&#39;</span><span class="p">;</span> <span class="mi">3</span> <span class="p">}</span> <span class="o">//</span> <span class="n">lazily</span> <span class="n">evaluate</span> <span class="n">z</span> <span class="n">later</span> <span class="n">when</span> <span class="n">the</span> <span class="n">method</span> <span class="ow">is</span> <span class="n">called</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">builder</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> <span class="o">//</span> <span class="n">builder</span> <span class="n">should</span> <span class="n">remain</span> <span class="n">unchanged</span>
</pre></div>
</div>
</div>
</div>
<p>What should <code class="docutils literal notranslate"><span class="pre">builder.result()</span></code> be after the following arithmetic
expression involving <code class="docutils literal notranslate"><span class="pre">x</span></code>,<code class="docutils literal notranslate"><span class="pre">y</span></code> and <code class="docutils literal notranslate"><span class="pre">z</span></code> is evaluated?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">z</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="n">z</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">x</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="lazy-evaluation-exercise-you-try-now">
<h2>Lazy Evaluation Exercise - You try Now!<a class="headerlink" href="#lazy-evaluation-exercise-you-try-now" title="Permalink to this headline">¶</a></h2>
<p>Understand why the output above is what it is!</p>
<ul class="simple">
<li><p>Why is <code class="docutils literal notranslate"><span class="pre">z</span></code> different in its appearance in the final <code class="docutils literal notranslate"><span class="pre">builder</span></code> string
when compared to <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> as we evaluated?</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">z</span> <span class="pre">+</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">z</span> <span class="pre">+</span> <span class="pre">y</span> <span class="pre">+</span> <span class="pre">x</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">builder</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="why-lazy">
<h2>Why Lazy?<a class="headerlink" href="#why-lazy" title="Permalink to this headline">¶</a></h2>
<p>Imagine a more complex expression involving the evaluation of millions
of values. Lazy evaluation will allow us to actually compute with big
data when it may become impossible to hold all the values in memory.
This is exactly what Apache Spark does as we will see.</p>
</div>
</div>
<div class="section" id="recursions">
<h1>Recursions<a class="headerlink" href="#recursions" title="Permalink to this headline">¶</a></h1>
<p>Recursion is a powerful framework when a function calls another
function, including itself, until some terminal condition is reached.</p>
<p>Here we want to distinguish between two ways of implementing a recursion
using a simple example of factorial.</p>
<p>Recall that for any natural number <span class="math notranslate nohighlight">\(n\)</span>, its factorial is denoted and
defined as follows:</p>
<p>\[ n! := n \times (n-1) \times (n-2) \times \cdots \times 2
\times 1 \]</p>
<p>which has the following recursive expression:</p>
<p>\[ n! = n*(n-1)! \, , \qquad 0! = 1 \]</p>
<p>Let us implement it using two approaches: a naive approach that can run
out of memory and another tail-recursive approach that uses constant
memory. Read
<a class="reference external" href="https://www.scala-exercises.org/scala_tutorial/tail_recursion">https://www.scala-exercises.org/scala<em>tutorial/tail</em>recursion</a>
for details.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">factorialNaive</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="n">Int</span><span class="p">):</span> <span class="n">Int</span> <span class="o">=</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">n</span> <span class="o">*</span> <span class="n">factorialNaive</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">factorialNaive</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">factorialNaive(4)</span></code> was evaluated above the following steps were
actually done:</p>
<p><code class="docutils literal notranslate"><span class="pre">factorial(4)</span> <span class="pre">if</span> <span class="pre">(4</span> <span class="pre">==</span> <span class="pre">0)</span> <span class="pre">1</span> <span class="pre">else</span> <span class="pre">4</span> <span class="pre">*</span> <span class="pre">factorial(4</span> <span class="pre">-</span> <span class="pre">1)</span> <span class="pre">4</span> <span class="pre">*</span> <span class="pre">factorial(3)</span> <span class="pre">4</span> <span class="pre">*</span> <span class="pre">(3</span> <span class="pre">*</span> <span class="pre">factorial(2))</span> <span class="pre">4</span> <span class="pre">*</span> <span class="pre">(3</span> <span class="pre">*</span> <span class="pre">(2</span> <span class="pre">*</span> <span class="pre">factorial(1)))</span> <span class="pre">4</span> <span class="pre">*</span> <span class="pre">(3</span> <span class="pre">*</span> <span class="pre">(2</span> <span class="pre">*</span> <span class="pre">(1</span> <span class="pre">*</span> <span class="pre">factorial(0)))</span> <span class="pre">4</span> <span class="pre">*</span> <span class="pre">(3</span> <span class="pre">*</span> <span class="pre">(2</span> <span class="pre">*</span> <span class="pre">(1</span> <span class="pre">*</span> <span class="pre">1)))</span> <span class="pre">24</span></code></p>
<p>Notice how we add one more element to our expression at each recursive
call. Our expressions becomes bigger and bigger until we end by reducing
it to the final value. So the final expression given by a directed
acyclic graph (DAG) of the pairwise multiplications given by the
right-branching binary tree, whose leaves are input integers and
internal nodes are the bianry <code class="docutils literal notranslate"><span class="pre">*</span></code> operator, can get very large when the
input <code class="docutils literal notranslate"><span class="pre">n</span></code> is large.</p>
<p><em>Tail recursion</em> is a sophisticated way of implementing certain
recursions so that memory requirements can be kept constant, as opposed
to naive recursions.</p>
<blockquote>
<div><p><a class="reference external" href="https://www.scala-exercises.org/scala_tutorial/tail_recursion">Tail
Recursion</a></p>
</div></blockquote>
<blockquote>
<div><p>That difference in the rewriting rules actually translates directly to
a difference in the actual execution on a computer. In fact, it turns
out that <strong>if you have a recursive function that calls itself as its
last action, then you can reuse the stack frame of that function. This
is called tail recursion.</strong></p>
</div></blockquote>
<blockquote>
<div><p>And by applying that trick, a tail recursive function can execute in
constant stack space, so it’s really just another formulation of an
iterative process. We could say a tail recursive function is the
functional form of a loop, and it executes just as efficiently as a
loop.</p>
</div></blockquote>
<p>Implementation of tail recursion in the Exercise below uses Scala
<a class="reference external" href="https://docs.scala-lang.org/tour/annotations.html">annotation</a>, which
is a way to associate meta-information with definitions. In our case,
the annotation <code class="docutils literal notranslate"><span class="pre">&#64;tailrec</span></code> ensures that a method is indeed
<a class="reference external" href="https://en.wikipedia.org/wiki/Tail_call">tail-recursive</a>. See the last
link to understand how memory requirements can be kept constant in tail
recursions.</p>
<p>We mainly want you to know that tail recursions are an important
functional programming concept.</p>
<div class="section" id="tail-recursion-exercise-you-try-now">
<h2>Tail Recursion Exercise - You Try Now<a class="headerlink" href="#tail-recursion-exercise-you-try-now" title="Permalink to this headline">¶</a></h2>
<p>Replace <code class="docutils literal notranslate"><span class="pre">???</span></code> with the correct values to make this a tail recursion for
factorial.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import scala.annotation.tailrec

// replace ??? with the right values to make this a tail recursion for factorial
def factorialTail(n: Int): Int = {
  @tailrec
  def iter(x: Int, result: Int): Int =
    if ( x == ??? ) result
    else iter(x - 1, result * x)

  iter( n, ??? )
}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">factorialTail</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">//</span><span class="n">shouldBe</span> <span class="mi">6</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">factorialTail</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">//</span><span class="n">shouldBe</span> <span class="mi">24</span>
</pre></div>
</div>
</div>
</div>
<p>Functional Programming is a vast subject and we are merely covering the
fewest core ideas to get started with Apache Spark asap.</p>
<p>We will return to more concepts as we need them in the sequel.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./000_1-sds-3-x"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="003_00_scalaCrashCourse.html" title="previous page">ScaDaMaLe, Scalable Data Science and Distributed Machine Learning</a>
    <a class='right-next' id="next-link" href="004_RDDsTransformationsActions.html" title="next page">ScaDaMaLe, Scalable Data Science and Distributed Machine Learning</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By ScaDaMaLe Team<br/>
        
            &copy; Copyright 2020 Creative Commons Zero v1.0 Universal.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>